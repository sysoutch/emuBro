/* =========================================
   EMULATORS VIEW
   ========================================= */
.games-container.emulators-view {
    display: block;
}

.emulators-container {
    width: 100%;
}

.emulator-type-tabs {
    width: 100%;
    display: inline-flex;
    flex-wrap: wrap;
    gap: calc(10px * var(--view-scale));
    margin: 0 0 calc(16px * var(--view-scale)) 0;
    padding: calc(10px * var(--view-scale));
    border-radius: var(--radius-card);
    border: 1px solid color-mix(in srgb, rgba(255,255,255,0.16), var(--border-color));
    background: color-mix(in srgb, var(--bg-secondary), transparent 30%);
}

.emulator-type-tab {
    appearance: none;
    border: 1px solid var(--border-color);
    border-radius: 999px;
    background: color-mix(in srgb, var(--bg-primary), transparent 24%);
    color: var(--text-secondary);
    cursor: pointer;
    padding: calc(7px * var(--view-scale)) calc(14px * var(--view-scale));
    font-size: calc(0.84rem * var(--view-scale));
    font-weight: 650;
    letter-spacing: 0.02em;
    transition: border-color 160ms ease, color 160ms ease, background-color 160ms ease, transform 160ms ease;
}

.emulator-type-tab:hover {
    color: var(--text-primary);
    border-color: color-mix(in srgb, var(--accent-color) 62%, var(--border-color));
    transform: translateY(-1px);
}

.emulator-type-tab.is-active {
    color: var(--bg-primary);
    border-color: color-mix(in srgb, var(--accent-color), white 8%);
    background: var(--accent-color);
    box-shadow: 0 8px 16px -12px color-mix(in srgb, var(--accent-color), black 55%);
}

.emulators-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(calc(280px * var(--view-scale)), 1fr));
    gap: calc(18px * var(--view-scale));
}

.emulator-card {
    --emulator-glow-1: color-mix(in srgb, var(--accent-color), transparent 38%);
    --emulator-glow-2: color-mix(in srgb, var(--accent-color), white 22%);
    --emulator-glow-3: color-mix(in srgb, var(--accent-color), black 18%);
    background: color-mix(in srgb, var(--bg-secondary), white 10%);
    border: 1px solid color-mix(in srgb, rgba(255,255,255,0.18), var(--border-color));
    border-radius: var(--radius-card);
    padding: calc(16px * var(--view-scale));
    position: relative;
    overflow: hidden;
    cursor: pointer;
    box-shadow: 0 16px 30px -24px rgba(0, 0, 0, 0.82);
    transition: transform 160ms ease, border-color 160ms ease, box-shadow 160ms ease;
}

.emulator-card:hover {
    transform: translateY(-3px);
    border-color: color-mix(in srgb, var(--accent-color) 54%, rgba(255,255,255,0.2));
    box-shadow: 0 24px 36px -26px rgba(0, 0, 0, 0.92);
}

.emulator-card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    margin-bottom: 10px;
}

.emulator-card-hero {
    position: relative;
    border-radius: calc(var(--radius-card) - 8px);
    padding: calc(12px * var(--view-scale));
    margin-bottom: calc(8px * var(--view-scale));
    overflow: hidden;
    border: 1px solid color-mix(in srgb, rgba(255,255,255,0.18), var(--border-color));
    background: color-mix(in srgb, var(--bg-primary), white 9%);
}

.emulator-card-hero::before {
    content: "";
    position: absolute;
    inset: -32%;
    pointer-events: none;
    background:
        radial-gradient(62% 58% at 10% 14%, var(--emulator-glow-1) 0%, transparent 72%),
        radial-gradient(54% 54% at 90% 10%, var(--emulator-glow-2) 0%, transparent 70%),
        linear-gradient(140deg, var(--emulator-glow-1) 0%, var(--emulator-glow-2) 45%, var(--emulator-glow-3) 100%);
    filter: blur(calc(16px * var(--view-scale))) saturate(1.12);
    opacity: 0.88;
}

.emulator-card-hero::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    background: linear-gradient(
        180deg,
        color-mix(in srgb, white 20%, transparent) 0%,
        color-mix(in srgb, var(--bg-primary), transparent 52%) 100%
    );
}

.emulator-card-hero > * {
    position: relative;
    z-index: 1;
}

.emulator-card-hover-action {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%) scale(0.92);
    width: calc(62px * var(--view-scale));
    height: calc(62px * var(--view-scale));
    border-radius: 999px;
    background: color-mix(in srgb, var(--bg-primary), transparent 28%);
    border: 1px solid color-mix(in srgb, rgba(255,255,255,0.32), var(--border-color));
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 160ms ease, transform 160ms ease, box-shadow 160ms ease;
    z-index: 2;
}

.emulator-card-hover-action .icon-svg {
    width: 24px;
    height: 24px;
}

.emulator-card-hover-action .icon-svg svg {
    width: 100%;
    height: 100%;
    stroke: currentColor;
    fill: none;
    stroke-width: 1.8;
    stroke-linecap: round;
    stroke-linejoin: round;
}

.emulator-card-hover-action.is-play {
    color: color-mix(in srgb, #48d28a 84%, #fff 16%);
}

.emulator-card-hover-action.is-download {
    color: color-mix(in srgb, #ffc74f 84%, #fff 16%);
}

.emulator-card:hover .emulator-card-hover-action,
.emulator-card:focus-visible .emulator-card-hover-action {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
    box-shadow: 0 16px 30px rgba(0,0,0,0.35);
}

.emulator-title {
    margin: 0;
    font-size: calc(1.05rem * var(--view-scale));
    color: var(--text-primary);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.emulator-platform-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: calc(32px * var(--view-scale));
    height: calc(32px * var(--view-scale));
    border-radius: 999px;
    background: color-mix(in srgb, var(--bg-secondary), transparent 20%);
    border: 1px solid color-mix(in srgb, rgba(255,255,255,0.22), var(--border-color));
    flex-shrink: 0;
}

.emulator-platform-icon {
    width: calc(18px * var(--view-scale));
    height: calc(18px * var(--view-scale));
    object-fit: contain;
}

.emulator-platform-name {
    margin: 0 0 6px 0;
    color: var(--text-secondary);
    font-size: calc(0.9rem * var(--view-scale));
}

.emulator-install-status {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: fit-content;
    padding: 3px 8px;
    border-radius: 999px;
    font-size: calc(0.72rem * var(--view-scale));
    font-weight: 700;
    letter-spacing: 0.02em;
    margin: 0 0 8px 0;
    border: 1px solid color-mix(in srgb, rgba(255,255,255,0.24), var(--border-color));
}

.emulator-install-status.is-installed {
    color: color-mix(in srgb, #48d28a 86%, white 14%);
    background: color-mix(in srgb, #1c8f58 20%, transparent 80%);
}

.emulator-install-status.is-missing {
    color: color-mix(in srgb, #ffc74f 84%, white 16%);
    background: color-mix(in srgb, #c98217 20%, transparent 80%);
}

.emulator-path {
    margin: 0;
    color: var(--text-tertiary);
    font-family: "Consolas", "Courier New", monospace;
    font-size: calc(0.78rem * var(--view-scale));
    line-height: 1.45;
    word-break: break-all;
}

.emulator-path-more {
    color: var(--text-secondary);
    font-size: calc(0.72rem * var(--view-scale));
    white-space: nowrap;
}

.emulator-download-links {
    margin-top: calc(10px * var(--view-scale));
    display: flex;
    flex-wrap: wrap;
    gap: calc(8px * var(--view-scale));
}

.emulator-os-link {
    appearance: none;
    border: 1px solid color-mix(in srgb, var(--border-color), rgba(255,255,255,0.2));
    background: color-mix(in srgb, var(--bg-primary), transparent 24%);
    color: var(--text-secondary);
    border-radius: 999px;
    padding: calc(4px * var(--view-scale)) calc(9px * var(--view-scale));
    font-size: calc(0.72rem * var(--view-scale));
    line-height: 1.2;
    text-transform: none;
    letter-spacing: 0;
    cursor: pointer;
    transition: border-color 160ms ease, color 160ms ease, background-color 160ms ease;
}

.emulator-os-link:hover {
    color: var(--text-primary);
    border-color: color-mix(in srgb, var(--accent-color), rgba(255,255,255,0.28));
}

.emulator-os-link:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

.emulator-actions {
    margin-top: calc(14px * var(--view-scale));
    display: flex;
    flex-wrap: wrap;
    gap: calc(10px * var(--view-scale));
}

.emulator-actions .action-btn {
    font-size: calc(0.85rem * var(--view-scale));
    flex: 0 1 auto;
    min-width: calc(110px * var(--view-scale));
    white-space: nowrap;
}

.emulator-actions .action-btn[data-action="download"] {
    border-color: color-mix(in srgb, var(--accent-color), rgba(255,255,255,0.24));
}

.emulator-actions .action-btn:disabled {
    opacity: 0.46;
    cursor: not-allowed;
    box-shadow: none;
    border-color: color-mix(in srgb, var(--border-color), transparent 25%);
}

.emulator-actions--table {
    margin-top: 0;
}

.emulators-list {
    display: flex;
    flex-direction: column;
    gap: calc(10px * var(--view-scale));
}

.emulator-list-item {
    background: color-mix(in srgb, var(--bg-secondary), transparent 36%);
    border: 1px solid color-mix(in srgb, rgba(255,255,255,0.14), var(--border-color));
    border-radius: var(--radius-card);
    padding: calc(14px * var(--view-scale));
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: calc(14px * var(--view-scale));
    cursor: pointer;
}

.emulator-list-main {
    min-width: 0;
    flex: 1;
}

.emulator-list-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    color: var(--text-secondary);
    font-size: calc(0.82rem * var(--view-scale));
    margin-top: 6px;
}

.emulators-table {
    width: 100%;
    border-collapse: collapse;
    border-radius: var(--radius-card);
    overflow: hidden;
    background: color-mix(in srgb, var(--bg-secondary), transparent 28%);
    border: 1px solid color-mix(in srgb, rgba(255,255,255,0.14), var(--border-color));
}

.emulators-table th,
.emulators-table td {
    text-align: left;
    padding: calc(12px * var(--view-scale));
    border-bottom: 1px solid color-mix(in srgb, rgba(255,255,255,0.14), var(--border-color));
}

.emulators-table th {
    color: var(--text-primary);
    font-size: calc(0.88rem * var(--view-scale));
}

.emulators-table td {
    color: var(--text-secondary);
    font-size: calc(0.84rem * var(--view-scale));
}

.emulators-table tbody tr {
    cursor: pointer;
}

.emulators-table tbody tr:hover td {
    background: color-mix(in srgb, var(--accent-color), transparent 90%);
}

.emulators-table tr:last-child td {
    border-bottom: none;
}

.emulator-empty {
    text-align: center;
    color: var(--text-secondary);
    padding: calc(60px * var(--view-scale)) 20px;
}

.emulator-config-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 3200;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 16px;
}

.emulator-config-modal {
    width: min(620px, 96vw);
    max-height: 88vh;
    overflow: auto;
    border-radius: var(--radius-card);
    border: 1px solid var(--border-color);
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 14px;
    background: color-mix(in srgb, var(--bg-secondary), transparent 16%);
}

.emulator-config-modal h3 {
    margin: 0;
    color: var(--text-primary);
    font-size: 1.05rem;
}

.emulator-config-form {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.emulator-config-row {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.emulator-config-label {
    color: var(--text-secondary);
    font-size: 0.82rem;
    text-transform: uppercase;
    letter-spacing: 0.04em;
}

.emulator-config-input {
    border: 1px solid var(--border-color);
    border-radius: var(--radius-input);
    background: color-mix(in srgb, var(--bg-primary), transparent 12%);
    color: var(--text-primary);
    padding: 9px 12px;
    font: inherit;
    width: 100%;
}

.emulator-config-input:focus {
    outline: none;
    border-color: var(--accent-color);
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent-color) 25%, transparent);
}

.emulator-config-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

.emulator-download-choice-modal {
    width: min(560px, 96vw);
}

.emulator-download-choice-hint {
    margin: 0;
    color: var(--text-secondary);
    font-size: 0.92rem;
}

.emulator-download-choice-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.emulator-download-choice-btn {
    width: 100%;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 8px;
    text-align: left;
}

.emulator-download-choice-label,
.emulator-download-choice-file {
    display: block;
}

.emulator-download-choice-file {
    color: var(--text-secondary);
    font-size: 0.82rem;
    max-width: 58%;
    text-align: right;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

