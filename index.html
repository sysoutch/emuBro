<!DOCTYPE html>
<html lang="en" data-glass-effect="enabled">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="app.title">emuBro</title>
</head>
<body>
    <div class="win-top-drag-strip" aria-hidden="true"></div>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <!-- circle with transparent logo on top -->
                <div class="logo-circle"></div>
                <img src="./logo.png" alt="emuBro Logo">
                <h1><span class="logo-text-prefix">EMU</span><span class="logo-text-suffix">BRO</span></h1>
            </div>
            <nav class="navigation">
                <ul>
                    <li><a href="#" class="active" data-nav-target="library">Library</a></li>
                    <li><a href="#" data-nav-target="tools">Tools</a></li>
                    <li><a href="#" data-nav-target="community">Community</a></li>
                </ul>
            </nav>
            <div class="user-actions">
                <div class="search-bar">
                    <input type="text" placeholder="Search games..." data-i18n-placeholder="filters.search">
                </div>
                <div class="form-group language-selector-wrapper">
                    <div class="form-group dropdown-with-button-wrapper">
                        <div id="language-dropdown" class="custom-select" title="Select Language">
                            <div class="selected-option">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <span id="current-flag" class="fi"></span>
                                    <span id="current-language-name">Select Language</span>
                                </div>
                            </div>
                            <ul id="language-options" class="options-list">
                                <!-- populated dynamically -->
                            </ul>
                        </div>
                        
                        <button id="language-manager-btn" class="theme-manager-btn icon-only-btn" title="Manage Languages" aria-label="Manage Languages">
                            <span class="icon-svg" aria-hidden="true">
                                <svg viewBox="0 0 24 24">
                                    <circle cx="12" cy="12" r="9"></circle>
                                    <path d="M3 12h18"></path>
                                    <path d="M12 3c2.7 2.4 4.2 5.7 4.2 9s-1.5 6.6-4.2 9"></path>
                                    <path d="M12 3c-2.7 2.4-4.2 5.7-4.2 9s1.5 6.6 4.2 9"></path>
                                </svg>
                            </span>
                        </button>
                    </div>
                </div>
                <div class="theme-toggle-wrapper">
                    <div class="form-group dropdown-with-button-wrapper">
                        <select id="theme-select">
                            <option value="dark" data-i18n="theme.darkTheme"></option>
                            <option value="light" data-i18n="theme.lightTheme"></option>
                        </select>
                        <button id="theme-manager-btn" class="theme-manager-btn icon-only-btn" title="Manage Themes" aria-label="Manage Themes">
                            <span class="icon-svg" aria-hidden="true">
                                <svg viewBox="0 0 24 24">
                                    <path d="M12 8.5a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Z"></path>
                                    <path d="M19.4 15a1 1 0 0 0 .2 1.1l.1.1a1 1 0 0 1 0 1.4l-1 1a1 1 0 0 1-1.4 0l-.1-.1a1 1 0 0 0-1.1-.2 1 1 0 0 0-.6.9V20a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-.2a1 1 0 0 0-.6-.9 1 1 0 0 0-1.1.2l-.1.1a1 1 0 0 1-1.4 0l-1-1a1 1 0 0 1 0-1.4l.1-.1a1 1 0 0 0 .2-1.1 1 1 0 0 0-.9-.6H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h.2a1 1 0 0 0 .9-.6 1 1 0 0 0-.2-1.1l-.1-.1a1 1 0 0 1 0-1.4l1-1a1 1 0 0 1 1.4 0l.1.1a1 1 0 0 0 1.1.2 1 1 0 0 0 .6-.9V4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v.2a1 1 0 0 0 .6.9 1 1 0 0 0 1.1-.2l.1-.1a1 1 0 0 1 1.4 0l1 1a1 1 0 0 1 0 1.4l-.1.1a1 1 0 0 0-.2 1.1 1 1 0 0 0 .9.6H20a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-.2a1 1 0 0 0-.9.6Z"></path>
                                </svg>
                            </span>
                        </button>
                    </div>
                    <button id="theme-toggle-btn" class="theme-toggle icon-only-btn" title="Toggle Light/Dark Mode" aria-label="Toggle Light/Dark Mode">
                        <span class="icon-svg" aria-hidden="true">
                            <svg viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="4"></circle>
                                <path d="M12 2v2"></path>
                                <path d="M12 20v2"></path>
                                <path d="m4.9 4.9 1.4 1.4"></path>
                                <path d="m17.7 17.7 1.4 1.4"></path>
                                <path d="M2 12h2"></path>
                                <path d="M20 12h2"></path>
                                <path d="m4.9 19.1 1.4-1.4"></path>
                                <path d="m17.7 6.3 1.4-1.4"></path>
                            </svg>
                        </span>
                    </button>
                    <button id="invert-colors-btn" class="theme-toggle icon-only-btn" title="Invert Colors" aria-label="Invert Colors">
                        <span class="icon-svg" aria-hidden="true">
                            <svg viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="9"></circle>
                                <path d="M12 3a9 9 0 0 0 0 18V3Z"></path>
                            </svg>
                        </span>
                    </button>
                </div>
            </div>

            <!-- Custom window controls (used when frameless on Windows) -->
            <div class="window-drag-gap" aria-hidden="true"></div>
            <div class="window-controls-main" id="window-controls-main" aria-label="Window controls">
                <button class="win-btn" id="win-min-btn" title="Minimize" aria-label="Minimize">_</button>
                <button class="win-btn" id="win-max-btn" title="Maximize" aria-label="Maximize">▢</button>
                <button class="win-btn win-btn-close" id="win-close-btn" title="Close" aria-label="Close">×</button>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <div class="drop-zone-overlay">
                <div>
                    <div class="drop-zone-overlay-text" data-i18n="dropZone.text">Drop Folder or Drop File</div>
                </div>
            </div>
            <!-- Sidebar: icon rail + expandable content -->
            <aside class="sidebar sidebar--collapsed" id="sidebar">
                <div class="sidebar-rail" aria-label="Primary navigation">
                    <button id="sidebar-toggle" class="rail-btn rail-brand" type="button" aria-expanded="false" title="Expand sidebar">
                        <span class="rail-icon" aria-hidden="true">
                            <!-- Grid icon -->
                            <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M4 4h6v6H4zM14 4h6v6h-6zM4 14h6v6H4zM14 14h6v6h-6z"/>
                            </svg>
                        </span>
                    </button>

                    <div class="rail-group">
                        <button class="rail-btn rail-nav is-active" type="button" data-rail-target="library" title="Library">
                            <span class="rail-icon" aria-hidden="true">
                                <!-- Controller icon -->
                                <svg viewBox="0 0 24 24" width="26" height="26" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M7 16.5c-1.8 0-3.3-1.3-3.7-3l-.6-2.4C2.2 9 3.5 7 5.7 7h12.6c2.2 0 3.5 2 3 4.1l-.6 2.4c-.4 1.7-1.9 3-3.7 3-.9 0-1.7-.3-2.4-.9l-1.2-1.1c-.8-.7-2-.7-2.8 0l-1.2 1.1c-.7.6-1.5.9-2.4.9z"/>
                                    <path d="M7.4 11.3h2.8M8.8 9.9v2.8"/>
                                    <path d="M15.9 10.6h.01M18 12.7h.01"/>
                                </svg>
                            </span>
                            <span class="rail-label">Library</span>
                        </button>

                        <button class="rail-btn rail-nav" type="button" data-rail-target="tools" title="Tools">
                            <span class="rail-icon" aria-hidden="true">
                                <!-- Rocket icon -->
                                <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14 3c3 1 5 4 5 7-1 1-2 2-3 3l-3-3c1-1 2-2 3-3-1-2-2-3-2-4z"/>
                                    <path d="M11 6c-3 3-5 6-6 10 4-1 7-3 10-6"/>
                                    <path d="M9 15l-3 6 6-3"/>
                                </svg>
                            </span>
                            <span class="rail-label">Tools</span>
                        </button>

                        <button class="rail-btn rail-nav" type="button" data-rail-target="community" title="Community">
                            <span class="rail-icon" aria-hidden="true">
                                <!-- Chat icon -->
                                <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 11.5a8.5 8.5 0 0 1-8.5 8.5H8l-5 3 1.5-4.5A8.5 8.5 0 1 1 21 11.5z"/>
                                </svg>
                            </span>
                            <span class="rail-label">Community</span>
                        </button>
                    </div>

                    <div class="rail-spacer"></div>
                    <div class="rail-group rail-group--bottom">
                        <button class="rail-btn rail-nav" type="button" data-rail-target="profile" title="Profile">
                            <span class="rail-icon" aria-hidden="true">
                                <!-- User icon -->
                                <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M20 21a8 8 0 0 0-16 0"/>
                                    <circle cx="12" cy="8" r="4"/>
                                </svg>
                            </span>
                            <span class="rail-label">Profile</span>
                        </button>

                        <button class="rail-btn rail-nav" type="button" data-rail-target="settings" title="Settings">
                            <span class="rail-icon" aria-hidden="true">
                                <!-- Gear icon -->
                                <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"/>
                                    <path d="M19.4 15a7.8 7.8 0 0 0 .1-1l2-1.2-2-3.5-2.3.5a8 8 0 0 0-1.6-1l-.3-2.4H8.7l-.3 2.4a8 8 0 0 0-1.6 1l-2.3-.5-2 3.5 2 1.2a7.8 7.8 0 0 0 .1 1 7.8 7.8 0 0 0-.1 1l-2 1.2 2 3.5 2.3-.5a8 8 0 0 0 1.6 1l.3 2.4h6.6l.3-2.4a8 8 0 0 0 1.6-1l2.3.5 2-3.5-2-1.2a7.8 7.8 0 0 0-.1-1z"/>
                                </svg>
                            </span>
                            <span class="rail-label">Settings</span>
                        </button>
                    </div>
                </div>

                <div class="sidebar-content" id="sidebar-content">
                    <div class="sidebar-section">
                        <h3>Library</h3>
                        <ul>
                            <li class="active"><a href="#" data-view="all">All Games</a></li>
                            <li><a href="#" data-view="installed">Installed</a></li>
                            <li><a href="#" data-view="recent">Recently Played</a></li>
                            <li><a href="#" data-view="wishlist">Wishlist</a></li>
                            <li><a href="#" data-view="emulators">Emulators</a></li>
                        </ul>
                    </div>
                    <div class="sidebar-section">
                        <h3>Categories</h3>
                        <ul id="categories-list">
                            <li><a href="#" data-genre="all">All</a></li>
                            <li><a href="#" data-genre="Platformer">Platformer</a></li>
                            <li><a href="#" data-genre="Adventure">Adventure</a></li>
                            <li><a href="#" data-genre="RPG">RPG</a></li>
                            <li><a href="#" data-genre="Action">Action</a></li>
                            <li><a href="#" data-genre="Puzzle">Puzzle</a></li>
                            <li><a href="#" data-genre="Fighting">Fighting</a></li>
                        </ul>
                    </div>
                    <div class="sidebar-section">
                        <h3>Stats</h3>
                        <div class="stats">
                            <p>Total Games: <span id="total-games">0</span></p>
                            <p>Total Emulators: <span id="total-emulators">0</span></p>
                            <p>Play Time: <span id="play-time">0</span> hours</p>
                        </div>
                    </div>
                    <div class="sidebar-section">
                        <h3>Tools</h3>
                        <ul id="tools-list">
                            <li><a href="#" data-tool="memory-card" class="active">Memory Card Reader</a></li>
                            <li><a href="#" data-tool="rom-ripper">ROM Ripper</a></li>
                            <li><a href="#" data-tool="game-database">Game Database</a></li>
                            <li><a href="#" data-tool="cheat-codes">Cheat Codes</a></li>
                        </ul>
                    </div>
                </div>
            </aside>

            <!-- Game Content Wrapper -->
            <div class="game-content-wrapper">
                <!-- View Toggle Controls -->
                <div class="view-controls">
                    <button class="view-btn active" data-view="cover" data-i18n="views.cover">Cover</button>
                    <button class="view-btn" data-view="list" data-i18n="views.list">List</button>
                    <button class="view-btn" data-view="table" data-i18n="views.table">Table</button>
                    <button class="view-btn" data-view="slideshow" data-i18n="views.slideshow">Slideshow</button>
                    <button class="view-btn" data-view="random" data-i18n="views.random">Random</button>

                    <div class="view-size-control">
                        <label for="view-size-slider">Size</label>
                        <input id="view-size-slider" type="range" min="70" max="140" step="5" value="100" />
                        <span id="view-size-value">100%</span>
                    </div>
                </div>

                <!-- Game Grid -->
                <main class="game-grid">
                    <div class="game-header">
                        <h2 id="games-header">Featured Games</h2>
                        <div class="filters">
                            <label id="emulators-installed-toggle-wrap" class="emulators-installed-toggle is-hidden">
                                <input id="emulators-installed-toggle" type="checkbox" />
                                <span>Installed</span>
                            </label>
                            <select id="platform-filter">
                                <option value="all">All Platforms</option>
                                <option value="gameboy">Gameboy</option>
                                <option value="android">Android</option>
                                <option value="xbox">Xbox</option>
                                <option value="nes">NES</option>
                                <option value="snes">SNES</option>
                            </select>
                            <select id="sort-filter">
                                <option value="name">Sort by Name</option>
                                <option value="rating">Sort by Rating</option>
                                <option value="platform">Sort by Platform</option>
                            </select>
                        </div>
                    </div>
                    <div id="games-container" class="games-container">
                        <!-- Games will be loaded here dynamically -->
                    </div>
                </main>
                
                <!-- Game Details Footer -->
                <footer id="game-details-footer" class="game-details-footer glass">
                    <div class="game-details-content">
                        <div class="game-details-header">
                            <h3>Library Panel</h3>
                            <div class="footer-controls">
                                <button id="pin-footer-btn" class="action-btn small icon-only-btn" title="Pin Footer" aria-label="Pin Footer">
                                    <span class="icon-svg" aria-hidden="true">
                                        <svg viewBox="0 0 24 24">
                                            <path d="M8.5 4h7l-1.5 4.8v3.1l1.4 1.5h-6.8l1.4-1.5V8.8L8.5 4Z"></path>
                                            <path d="M12 13.4V20"></path>
                                        </svg>
                                    </span>
                                </button>
                                <button id="close-game-details" class="close-btn">&times;</button>
                            </div>
                        </div>
                        <div class="game-details-tabs" role="tablist" aria-label="Footer tabs">
                            <button class="game-details-tab is-active" type="button" role="tab" data-footer-tab="browse">Browse Computer</button>
                            <button class="game-details-tab" type="button" role="tab" data-footer-tab="notifications">Notifications</button>
                            <button class="game-details-tab" type="button" role="tab" data-footer-tab="covers">Find Covers</button>
                        </div>
                        <div class="game-details-tab-panels">
                            <section class="game-details-tab-panel is-active" data-footer-panel="browse">
                                <div class="browse-scope-bar">
                                    <span class="browse-scope-label">Scope</span>
                                    <div class="browse-scope-options" role="group" aria-label="Browse scope">
                                        <button class="browse-scope-btn is-active" type="button" data-browse-scope="both">Games + Emulators</button>
                                        <button class="browse-scope-btn" type="button" data-browse-scope="games">Games</button>
                                        <button class="browse-scope-btn" type="button" data-browse-scope="emulators">Emulators</button>
                                    </div>
                                </div>
                                <div class="browse-computer-grid">
                                    <button id="browse-quick-search-btn" class="browse-action-card" type="button">
                                        <span class="browse-action-title">Quick Search</span>
                                        <span class="browse-action-subtitle">Find new files in common parent folders from your last successful search.</span>
                                    </button>
                                    <button id="browse-search-games-btn" class="browse-action-card" type="button">
                                        <span class="browse-action-title">Search Games/Emulators...</span>
                                        <span class="browse-action-subtitle">Pick a folder and scan custom locations.</span>
                                    </button>
                                    <button id="browse-archives-btn" class="browse-action-card" type="button">
                                        <span class="browse-action-title">Archives</span>
                                        <span class="browse-action-subtitle">Browse archive files in your library paths.</span>
                                    </button>
                                    <button id="browse-zip-btn" class="browse-action-card" type="button">
                                        <span class="browse-action-title">Zip</span>
                                        <span class="browse-action-subtitle">Scan ZIP content and setup files.</span>
                                    </button>
                                </div>
                            </section>
                            <section class="game-details-tab-panel" data-footer-panel="notifications">
                                <div id="footer-notifications-list" class="footer-notifications-list"></div>
                            </section>
                            <section class="game-details-tab-panel" data-footer-panel="covers">
                                <div class="footer-covers-placeholder">
                                    Drop files or folders here to search for covers.
                                </div>
                            </section>
                        </div>
                    </div>
                </footer>
            </div>
        </div>
        <button id="open-footer-btn" class="open-footer-btn" type="button" aria-label="Open bottom panel">Browse</button>
    </div>

    <!-- Theme Manager Modal -->
    <div id="theme-manager-modal" class="theme-manager-modal glass">
        <div class="theme-manager-content">
            <div id="theme-manager-header" class="theme-manager-header">
                <h2>Theme Manager</h2>
                <div class="window-controls">
                    <button id="pin-theme-manager" class="pin-btn icon-only-btn" title="Dock to RightSide" aria-label="Dock to right side">
                        <span class="icon-svg" aria-hidden="true">
                            <svg viewBox="0 0 24 24">
                                <path d="M8.5 4h7l-1.5 4.8v3.1l1.4 1.5h-6.8l1.4-1.5V8.8L8.5 4Z"></path>
                                <path d="M12 13.4V20"></path>
                            </svg>
                        </span>
                    </button>
                    <button id="close-theme-manager" class="close-btn">&times;</button>
                </div>
            </div>
            
            <div class="theme-manager-body">
                <div class="theme-manager-tabs">
                    <button class="tab-btn active" data-tab="local">My Themes</button>
                    <button class="tab-btn" data-tab="marketplace">Marketplace</button>
                </div>

                <div id="local-themes-view" class="tab-content active">
                    <!-- Global Theme Settings -->
                    <div class="theme-manager-section global-settings">
                        <h3 data-i18n="theme.globalOptions">Global Options</h3>
                        <div class="settings-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; padding: 15px; background: var(--bg-secondary); border-radius: 8px; border: 1px solid var(--border-color);">
                            <div class="form-group">
                                <label for="global-corner-style" data-i18n="theme.cornerStyle">Corner Style:</label>
                                <select id="global-corner-style">
                                    <option value="rounded" data-i18n="theme.cornerStyleOptions.rounded"></option>
                                    <option value="futuristic" data-i18n="theme.cornerStyleOptions.futuristic"></option>
                                    <option value="semi-rounded" data-i18n="theme.cornerStyleOptions.semiRounded"></option>
                                    <option value="sharp" data-i18n="theme.cornerStyleOptions.sharp"></option>
                                </select>
                            </div>
                            <div class="form-group checkbox-group" style="display: flex; align-items: center; gap: 10px; height: 100%;">
                                <label for="global-override-background" style="display: flex; align-items: center; gap: 10px; cursor: pointer; margin: 0;">
                                    <input type="checkbox" id="global-override-background">
                                    <span style="font-weight: bold;" data-i18n="theme.overrideBackground"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="theme-manager-section">
                        <h3 data-i18n="theme.presets">Preset Themes</h3>
                        <div id="preset-themes" class="preset-themes-list"></div>
                    </div>

                    <div class="theme-manager-section">
                        <h3 data-i18n="theme.custom">Custom Themes</h3>
                        <div id="custom-themes" class="custom-themes-list"></div>
                        <button id="create-theme-btn" class="action-btn">+ Create New Theme</button>
                    </div>

                    <!-- Create/Edit Theme Form -->
                    <div id="theme-form" class="theme-form" style="display: none;">
                        <h3 id="form-title">Create New Theme</h3>
                        
                        <div class="form-group">
                            <label for="theme-name">Theme Name:</label>
                            <input type="text" id="theme-name" placeholder="My Custom Theme">
                        </div>

                        <div class="color-inputs">
                            <div class="form-group">
                                <label for="color-bg-primary">Primary Background:</label>
                                <div class="color-input-group">
                                    <input type="color" id="color-bg-primary" class="color-picker">
                                    <input type="text" class="color-text" placeholder="#000000" readonly>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="color-text-primary">Primary Text:</label>
                                <div class="color-input-group">
                                    <input type="color" id="color-text-primary" class="color-picker">
                                    <input type="text" class="color-text" placeholder="#ffffff" readonly>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="color-text-secondary">Secondary Text:</label>
                                <div class="color-input-group">
                                    <input type="color" id="color-text-secondary" class="color-picker">
                                    <input type="text" class="color-text" placeholder="#ffffff" readonly>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="color-accent">Accent Color:</label>
                                <div class="color-input-group">
                                    <input type="color" id="color-accent" class="color-picker">
                                    <input type="text" class="color-text" placeholder="#66ccff" readonly>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="color-bg-secondary">Secondary Background:</label>
                                <div class="color-input-group">
                                    <input type="color" id="color-bg-secondary" class="color-picker">
                                    <input type="text" class="color-text" placeholder="#1a1a1a" readonly>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="color-bg-header">Header Background:</label>
                                <div class="color-input-group">
                                    <input type="color" id="color-bg-header" class="color-picker">
                                    <input type="text" class="color-text" placeholder="#2d2d2d" readonly>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="color-bg-sidebar">Sidebar Background:</label>
                                <div class="color-input-group">
                                    <input type="color" id="color-bg-sidebar" class="color-picker">
                                    <input type="text" class="color-text" placeholder="#333333" readonly>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="color-bg-actionbar">Action Bar Background:</label>
                                <div class="color-input-group">
                                    <input type="color" id="color-bg-actionbar" class="color-picker">
                                    <input type="text" class="color-text" placeholder="#252525" readonly>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="color-border">Border Color:</label>
                                <div class="color-input-group">
                                    <input type="color" id="color-border" class="color-picker">
                                    <input type="text" class="color-text" placeholder="#333333" readonly>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="color-bg-tertiary">Tertiary Background:</label>
                                <div class="color-input-group">
                                    <input type="color" id="color-bg-tertiary" class="color-picker">
                                    <input type="text" class="color-text" placeholder="#333333" readonly>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="color-success">Success Color:</label>
                                <div class="color-input-group">
                                    <input type="color" id="color-success" class="color-picker">
                                    <input type="text" class="color-text" placeholder="#4caf50" readonly>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="color-danger">Danger Color:</label>
                                <div class="color-input-group">
                                    <input type="color" id="color-danger" class="color-picker">
                                    <input type="text" class="color-text" placeholder="#f44336" readonly>
                                </div>
                            </div>
                        </div>

                        <div class="theme-gradient-section">
                            <h4>App Gradient</h4>
                            <div class="color-inputs">
                                <div class="form-group">
                                    <label for="color-app-gradient-a">Gradient Color A:</label>
                                    <div class="color-input-group">
                                        <input type="color" id="color-app-gradient-a" class="color-picker">
                                        <input type="text" class="color-text" placeholder="#0b1528" readonly>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="color-app-gradient-b">Gradient Color B:</label>
                                    <div class="color-input-group">
                                        <input type="color" id="color-app-gradient-b" class="color-picker">
                                        <input type="text" class="color-text" placeholder="#0f2236" readonly>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="color-app-gradient-c">Gradient Color C:</label>
                                    <div class="color-input-group">
                                        <input type="color" id="color-app-gradient-c" class="color-picker">
                                        <input type="text" class="color-text" placeholder="#1d2f4a" readonly>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group gradient-angle-group">
                                <label for="gradient-angle">Gradient Angle:</label>
                                <div class="gradient-angle-control">
                                    <input type="range" id="gradient-angle" min="0" max="360" step="1" value="160" />
                                    <span id="gradient-angle-value">160deg</span>
                                </div>
                            </div>
                        </div>

                        <!-- Background Image Section -->
                        <!-- Style Options -->

                        <div class="background-section">
                            <h4 data-i18n="theme.backgroundImage">Background Image</h4>
                            
                            <div class="form-group">
                                <label for="bg-image-input" data-i18n="theme.uploadImage">Upload Image:</label>
                                <input type="file" id="bg-image-input" accept="image/*">
                                <span id="bg-image-name" class="image-name"></span>
                                <button type="button" id="clear-bg-image-btn" class="action-btn remove-btn" style="display: none;" data-i18n="theme.clearImage">Clear Image</button>
                            </div>

                            <div class="form-group">
                                <label for="bg-position" data-i18n="theme.position">Position:</label>
                                <select id="bg-position">
                                    <option value="centered" data-i18n="theme.centered">Centered (Moves with window)</option>
                                    <option value="fixed" data-i18n="theme.fixed">Fixed (Stays in place)</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="bg-background-repeat">Background Repeat:</label>
                                <select id="bg-background-repeat">
                                    <option value="no-repeat" data-i18n="theme.bgRepeatOptions.noRepeat">No Repeat</option>
                                    <option value="repeat" data-i18n="theme.bgRepeatOptions.repeat">Repeat</option>
                                    <option value="repeat-x" data-i18n="theme.bgRepeatOptions.repeatX">Repeat Horizontally</option>
                                    <option value="repeat-y" data-i18n="theme.bgRepeatOptions.repeatY">Repeat Vertically</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="bg-scale" data-i18n="theme.scaleMode">Scale Mode:</label>
                                <select id="bg-scale">
                                    <option value="original" data-i18n="theme.originalSize">Original Size</option>
                                    <option value="stretch" data-i18n="theme.stretch">Stretch (Fill)</option>
                                    <option value="crop" data-i18n="theme.crop">Crop (Cover)</option>
                                    <option value="zoom" data-i18n="theme.zoom">Zoom (Contain)</option>
                                </select>
                            </div>

                            <div id="bg-preview" class="bg-preview" style="display: none;">
                                <img id="bg-preview-img" src="" alt="Background preview">
                            </div>
                        </div>

                        <!-- Card Effects Section -->
                        <div class="card-effects-section">
                            <h4 data-i18n="theme.cardEffects">Card Effects</h4>
                            
                            <div class="form-group checkbox-group">
                                <label for="glass-effect-toggle">
                                    <input type="checkbox" id="glass-effect-toggle" checked>
                                    <span data-i18n="theme.enableGlassEffect">Enable Glass Morphism Effect</span>
                                </label>
                                <p class="checkbox-description" data-i18n="theme.glassEffectDesc">Apply frosted glass effect to game cards</p>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button id="reset-theme-defaults" class="action-btn" data-i18n="theme.resetDefaults">Reset Defaults</button>
                            <button id="save-theme-btn" class="action-btn launch-btn" data-i18n="theme.saveTheme">Save Theme</button>
                            <button id="cancel-theme-btn" class="action-btn remove-btn" data-i18n="theme.cancel">Cancel</button>
                        </div>
                    </div>
                </div>

                <div id="marketplace-view" class="tab-content" style="display: none;">
                    <div class="theme-manager-section">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                            <h3 style="margin: 0;" data-i18n="theme.communityWorkshop">Community Workshop</h3>
                            <button id="refresh-themes-btn" class="action-btn small btn-with-icon" title="Refresh Themes" aria-label="Refresh Themes">
                                <span class="icon-svg" aria-hidden="true">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M20 11a8 8 0 1 0 2.2 5.5"></path>
                                        <path d="M20 4v7h-7"></path>
                                    </svg>
                                </span>
                                <span data-i18n="theme.refresh">Refresh</span>
                            </button>
                        </div>
                        <div id="marketplace-list" class="marketplace-grid">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Webhook Input Modal -->
    <div id="webhook-modal" class="modal glass" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000; align-items: center; justify-content: center;">
        <div class="modal-content" style="background: var(--bg-secondary); padding: 20px; border-radius: 8px; width: 400px; max-width: 90%; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border: 1px solid var(--border-color);">
            <h3 style="margin-top: 0;" data-i18n="webhook.title">Enter Discord Webhook URL</h3>
            <p style="color: var(--text-secondary); margin-bottom: 15px;">
                <span data-i18n="webhook.description">To upload themes, please provide a valid Discord Webhook URL. This will be saved locally.</span>
                <br>
                <a href="https://discord.gg/EtKvZ2F" target="_blank" style="color: var(--accent-color); text-decoration: none; font-size: 0.9em; margin-top: 5px; display: inline-block;" data-i18n="webhook.getIt">No webhook yet? Get it in the Discord</a>
            </p>
            <input type="text" id="webhook-input" placeholder="https://discord.com/api/webhooks/..." style="width: 100%; padding: 8px; margin-bottom: 15px; background: var(--bg-tertiary); border: 1px solid var(--border-color); color: var(--text-primary); border-radius: 4px;">
            <div style="display: flex; justify-content: flex-end; gap: 10px;">
                <button id="webhook-cancel-btn" class="action-btn remove-btn" data-i18n="buttons.cancel">Cancel</button>
                <button id="webhook-save-btn" class="action-btn launch-btn" data-i18n="buttons.saveAndContinue">Save & Continue</button>
            </div>
        </div>
    </div>

    <!-- Language Manager Modal -->
    <div id="language-manager-modal" class="theme-manager-modal glass" style="display: none;">
        <div class="theme-manager-content">
            <div id="language-manager-header" class="theme-manager-header">
                <h2 data-i18n="language.managerTitle">Language Manager</h2>
                <div class="window-controls">
                    <button id="pin-language-manager" class="pin-btn icon-only-btn" title="Dock to RightSide" aria-label="Dock to right side">
                        <span class="icon-svg" aria-hidden="true">
                            <svg viewBox="0 0 24 24">
                                <path d="M8.5 4h7l-1.5 4.8v3.1l1.4 1.5h-6.8l1.4-1.5V8.8L8.5 4Z"></path>
                                <path d="M12 13.4V20"></path>
                            </svg>
                        </span>
                    </button>
                    <button id="close-language-manager" class="close-btn">&times;</button>
                </div>
            </div>
            
            <div class="theme-manager-body">
                <div class="theme-manager-tabs">
                    <button class="tab-btn active" data-tab="lang-list" data-i18n="language.tabs.languages">Languages</button>
                    <button class="tab-btn" data-tab="lang-edit" style="display:none" data-i18n="language.tabs.editor">Editor</button>
                </div>

                <div id="lang-list-view" class="tab-content active">
                    <div class="theme-manager-section">
                        <h3 data-i18n="language.installed">Installed Languages</h3>
                        <div id="language-list" class="language-list">
                            <!-- Populated dynamically -->
                        </div>
                        <button id="add-language-btn" class="action-btn" data-i18n="language.addNew">+ Add New Language</button>
                    </div>
                </div>

                <div id="lang-edit-view" class="tab-content" style="display: none;">
                     <div class="manager-section">
                        <div style="display: flex; gap: 10px; align-items: center; margin-bottom: 15px; flex-shrink: 0;">
                            <button id="back-to-lang-list" class="action-btn small btn-with-icon" aria-label="Back">
                                <span class="icon-svg" aria-hidden="true">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M15 18 9 12l6-6"></path>
                                    </svg>
                                </span>
                                <span data-i18n="buttons.back">Back</span>
                            </button>
                            <h3 id="editing-lang-name" style="margin: 0;">Editing English</h3>
                        </div>

                        <div class="lang-editor-toolbar">
                            <label id="lang-live-edit-toggle-wrap" class="lang-live-edit-toggle" title="Enable direct UI label editing">
                                <input type="checkbox" id="lang-live-edit-toggle" />
                                <span>Live Edit</span>
                            </label>

                            <div class="search-bar">
                                <input type="text" id="lang-search-keys" placeholder="Search keys or values..." data-i18n-placeholder="language.searchPlaceholder">
                            </div>
                        </div>

                        <div id="lang-keys-list" class="lang-keys-list">
                            <!-- Key-Value pairs -->
                        </div>
                        
                        <div class="form-actions">
                             <button id="save-lang-btn" class="action-btn launch-btn" data-i18n="buttons.saveChanges">Save Changes</button>
                        </div>
                     </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Info Modal -->
    <div id="game-info-modal" class="theme-manager-modal game-info-popup glass" style="display: none;">
        <div class="theme-manager-content">
            <div id="game-info-header" class="theme-manager-header">
                <h2 id="game-info-popup-title">Game Details</h2>
                <div class="window-controls">
                    <button id="pin-game-info" class="pin-btn icon-only-btn" title="Dock to RightSide" aria-label="Dock to right side">
                        <span class="icon-svg" aria-hidden="true">
                            <svg viewBox="0 0 24 24">
                                <path d="M8.5 4h7l-1.5 4.8v3.1l1.4 1.5h-6.8l1.4-1.5V8.8L8.5 4Z"></path>
                                <path d="M12 13.4V20"></path>
                            </svg>
                        </span>
                    </button>
                    <button id="close-game-info" class="close-btn">&times;</button>
                </div>
            </div>
            <div id="game-info-popup-body" class="theme-manager-body game-info-popup-body"></div>
        </div>
    </div>

    <!-- Emulator Info Modal -->
    <div id="emulator-info-modal" class="theme-manager-modal emulator-info-popup glass" style="display: none;">
        <div class="theme-manager-content">
            <div id="emulator-info-header" class="theme-manager-header">
                <h2 id="emulator-info-popup-title">Emulator Details</h2>
                <div class="window-controls">
                    <button id="pin-emulator-info" class="pin-btn icon-only-btn" title="Dock to RightSide" aria-label="Dock to right side">
                        <span class="icon-svg" aria-hidden="true">
                            <svg viewBox="0 0 24 24">
                                <path d="M8.5 4h7l-1.5 4.8v3.1l1.4 1.5h-6.8l1.4-1.5V8.8L8.5 4Z"></path>
                                <path d="M12 13.4V20"></path>
                            </svg>
                        </span>
                    </button>
                    <button id="close-emulator-info" class="close-btn">&times;</button>
                </div>
            </div>
            <div id="emulator-info-popup-body" class="theme-manager-body emulator-info-popup-body"></div>
        </div>
    </div>

    <script src="./i18n.js"></script>
    <script src="dist/renderer.bundle.js"></script>
</body>
</html>
